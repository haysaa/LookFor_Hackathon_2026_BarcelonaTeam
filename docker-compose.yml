version: '3.8'

services:
  api:
    build: .
    container_name: lookfor_api
    ports:
      - "8000:8000"
    # Pass environment variables from .env file
    env_file:
      - .env
    environment:
      # Ensure TICKETS_PATH works inside container (if not set in .env)
      - TICKETS_PATH=fixtures/tickets_real.json
      # Fallback defaults if .env is missing or incomplete
      - USE_MOCK_TOOLS=${USE_MOCK_TOOLS:-true}
      - TOOLS_API_URL=${TOOLS_API_URL:-https://lookfor-backend.ngrok.app/v1/api}
